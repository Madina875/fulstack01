<h1 style="text-align: center;">{{title}}</h1>

<div class="author-container" style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
  {{!-- cardlar chiqadigan joy --}}
</div>

<script>
  const container = document.querySelector(".author-container");

  fetch("http://localhost:3333/api/author", {
    method: "GET",
    headers: {
      "Content-Type": "application/json",
    },
  })
    .then((response) => {
      if (!response.ok) {
        throw new Error("Fetch failed");
      }
      return response.json();
    })
    .then((data) => {
      container.innerHTML = data
        .map(
          (author) => `
            <div class="card" style="width: 300px; border: 1px solid #ccc; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); overflow: hidden;">
              <div style="padding: 15px;">
                <h3 style="margin: 0 0 10px;">${author.full_name}</h3>
                <p><strong>Nickname:</strong> ${author.nick_name}</p>
                <p><strong>Email:</strong> ${author.email}</p>
                <p><strong>Phone:</strong> ${author.phone}</p>
                <p><strong>Position:</strong> ${author.position}</p>
                <p><strong>Expert:</strong> ${author.is_expert ? "Yes" : "No"}</p>
                <p><strong>Active:</strong> ${author.is_active ? "Yes" : "No"}</p>
                <p><strong>Created:</strong> ${new Date(author.createdAt).toLocaleString()}</p>
              </div>
              ${
                author.photo
                  ? `<img src="https://i.pinimg.com/736x/a5/ed/18/a5ed18ced28a8c6f6369bf5523caaa8f.jpg" alt="Author Photo" style="width: 100%; height: 200px; object-fit: cover;">`
                  : ""
              }
            </div>
          `
        )
        .join("");
    })
    .catch((error) => {
      console.log("Error fetching authors:", error);
      container.innerHTML = "<p style='color:red;'>Failed to load authors.</p>";
    });
</script>
