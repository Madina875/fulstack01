<h1 style="text-align: center; margin-bottom: 30px;">{{title}}</h1>

<div class="topics-grid" style="
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  padding: 0 20px;
">
  {{!-- cardlar shu yerda namoyish bo'ladi --}}
</div>

<script>
  const grid = document.querySelector(".topics-grid");

  fetch("http://localhost:3333/api/topic", {
    method: "GET",
    headers: {
      "Content-Type": "application/json",
    },
  })
    .then((response) => {
      if (!response.ok) {
        throw new Error("Failed to fetch topics.");
      }
      return response.json();
    })
    .then((topics) => {
      grid.innerHTML = topics.topic
        .map((topic) => `
          <div class="card" style="
            background-color: #f9f9f9;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            transition: transform 0.2s;
          " onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
            
            <img
              src="https://cdn.textstudio.com/output/sample/normal/7/4/3/6/topic-logo-73-16347.png"
              alt="Topic Image"
              style="width: 100%; height: 180px; object-fit: cover;"
            />
            
            <div style="padding: 15px;">
              <p style="margin: 8px 0;"><strong>Created:</strong> ${new Date(topic.created_date).toLocaleString()}</p>
              <p style="margin: 8px 0;"><strong>Updated:</strong> ${new Date(topic.updated_date).toLocaleString()}</p>
              <p style="margin: 8px 0;"><strong>Author ID:</strong> ${topic.author_id}</p>
              <p style="margin: 8px 0;"><strong>Approved:</strong> ${topic.is_approved ? "Yes" : "No"}</p>
              <p style="margin: 8px 0;"><strong>Checked:</strong> ${topic.is_checked ? "Yes" : "No"}</p>
            </div>
          </div>
        `)
        .join('');
    })
    .catch((error) => {
      console.error("Error loading topics:", error);
      grid.innerHTML = "<p style='color:red;'>Failed to load topics.</p>";
    });
</script>
